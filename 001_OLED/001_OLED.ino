#include <SPI.h>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

//SDA A4
//SCL A5
//VCC 5v
//GND GND

//Nano: port COM6
#define OLED_RESET 4
#define SCREEN_WIDTH 128 // OLED display width, in pixels
#define SCREEN_HEIGHT 64 // OLED display height, in pixels
Adafruit_SSD1306 display(OLED_RESET);

#define LOGO_HEIGHT   16
#define LOGO_WIDTH    16
static const unsigned char PROGMEM logo_bmp[] =
{ B00000000, B11000000,
  B00000001, B11000000,
  B00000001, B11000000,
  B00000011, B11100000,
  B11110011, B11100000,
  B11111110, B11111000,
  B01111110, B11111111,
  B00110011, B10011111,
  B00011111, B11111100,
  B00001101, B01110000,
  B00011011, B10100000,
  B00111111, B11100000,
  B00111111, B11110000,
  B01111100, B11110000,
  B01110000, B01110000,
  B00000000, B00110000 };

/**
 * Made with Marlin Bitmap Converter
 * https://marlinfw.org/tools/u8glib/converter.html
 *
 * This bitmap from the file '1.png'
 */

#define PH_WIDTH  128
#define PH_HEIGHT 64

const unsigned char PH[] PROGMEM = {
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................................................................................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................................................................................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................................................................................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................................................................................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B11111111,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ........................................#########...............................................................................
  B00000000,B00000000,B00000000,B00000000,B00000011,B11100111,B11100000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ......................................#####..######.............................................................................
  B00000000,B00000000,B00000000,B00000000,B00000111,B00000000,B00110000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .....................................###..........##............................................................................
  B00000000,B00000000,B00000000,B00000000,B00001110,B00000000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ....................................###............##...........................................................................
  B00000000,B00000000,B00000000,B00000000,B00011000,B00000000,B00001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...................................##...............##..........................................................................
  B00000000,B00000000,B00000000,B00000000,B00110000,B00000000,B00000110,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..................................##.................##.........................................................................
  B00000000,B00000000,B00000000,B00000000,B00110000,B00000000,B00000011,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..................................##..................##........................................................................
  B00000000,B00000000,B00000000,B00000000,B01100000,B00000000,B00000001,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .................................##....................#........................................................................
  B00000000,B00000000,B00000000,B00000000,B01100000,B00000000,B00000001,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .................................##....................##.......................................................................
  B00000000,B00000000,B00000000,B00000000,B11000000,B00010000,B00110000,B10000000,B01111000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................##.........#......##....#........####...........................................................
  B00000000,B00000000,B00000000,B00000000,B11000000,B00010000,B00000000,B11000000,B11111100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................##.........#............##......######..........................................................
  B00000000,B00000000,B00000000,B00000000,B11000000,B00000000,B00000000,B11000000,B11000110,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................##......................##......##...##.........................................................
  B00000000,B00000000,B00000000,B00000000,B11000000,B00000000,B00000000,B11000001,B10000110,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................##......................##.....##....##.........................................................
  B00000000,B00000000,B00000000,B00000000,B10000000,B00000000,B00000000,B11000001,B10000010,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................................#.......................##.....##.....#.........................................................
  B00000000,B00000000,B00000000,B00000000,B10000000,B00000110,B00110000,B11000111,B10000010,B00000000,B00000000,B00000000,B00000000,B00111000,B00000000,B00000000, // ................................#............##...##....##...####.....#...................................###...................
  B00000000,B00000000,B00000000,B00000000,B10000000,B00000011,B11100000,B10001111,B10000010,B00000000,B00000000,B00000000,B00011100,B01111110,B00000000,B00000000, // ................................#.............#####.....#...#####.....#............................###...######.................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B10001101,B10000010,B00000000,B00000000,B00000000,B00111111,B01101110,B00000000,B00000000, // ...............................##.......................#...##.##.....#...........................######.##.###.................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000001,B10001100,B10000010,B00000000,B00000000,B00000000,B00111111,B11100111,B00000000,B00000000, // ...............................##......................##...##..#.....#...........................#########..###................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000001,B10000100,B00000010,B00011111,B11111111,B11000000,B00110001,B11000011,B00000000,B00000000, // ...............................##......................##....#........#....###############........##...###....##................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B11111110,B00000110,B00011111,B11111110,B00000000,B00110001,B11000011,B00000000,B00000000, // ...............................##.......................#######......##....############...........##...###....##................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B00111110,B00000100,B00000000,B00000000,B00000000,B00110000,B11000011,B00000000,B00000000, // ...............................##.........................#####......#............................##....##....##................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00001111,B11111110,B00000000,B00001100,B00000000,B00000000,B00000000,B00110000,B00000011,B00000000,B00000000, // ...............................##...........###########.............##............................##..........##................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B01111111,B11000000,B00011000,B00000101,B11100000,B00000000,B00111000,B00000111,B00000000,B00000000, // ...............................##................#########.........##........#.####...............###........###................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B11111100,B01110000,B00000100,B00000000,B00000000,B00011000,B00001110,B00000000,B00000000, // ...............................##.......................######...###.........#.....................##.......###.................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B00001111,B11110000,B00000000,B00000000,B00000000,B00011100,B00001100,B00000000,B00000000, // ...............................##...........................########...............................###......##..................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00000000,B00000000,B00111000,B00000000,B00000000,B00000000,B00001110,B00111100,B00000000,B00000000, // ...............................##.................................###...............................###...####..................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000011,B11111111,B11110000,B00011000,B00001111,B11111111,B11000000,B00000111,B01111000,B00000000,B00000000, // ...............................##.............##############.......##.......##############...........###.####...................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00011111,B11111100,B00001000,B00000000,B00000000,B00000000,B00000011,B11100000,B00000000,B00000000, // ...............................##..................###########......#.................................#####.....................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00001000,B00001100,B00001100,B00000000,B00000000,B00000000,B00000001,B11000000,B00000000,B00000000, // ...............................##...................#.......##......##.................................###......................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00001000,B00000100,B10001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................##...................#........#..#...##..........................................................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00011000,B00000100,B10001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................##..................##........#..#...##..........................................................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00010000,B00000100,B10001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................##..................#.........#..#...##..........................................................
  B00000000,B00000000,B00000000,B00000001,B10000000,B00000000,B00010000,B00000111,B10001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................##..................#.........####...##..........................................................
  B00000000,B00000000,B00000000,B00000001,B00000000,B00000000,B00010000,B00000011,B00001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................#...................#..........##....##..........................................................
  B00000000,B00000000,B00000000,B00000001,B00000000,B00000000,B00110000,B00000011,B00000100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............................#..................##..........##.....#..........................................................
  B00000000,B00000000,B00000000,B00000011,B00000000,B00000000,B00110000,B00000001,B10001100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..............................##..................##...........##...##..........................................................
  B00000000,B00000000,B00000000,B00000011,B00000000,B00000000,B00110000,B00000000,B11011100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..............................##..................##............##.###..........................................................
  B00000000,B00000000,B00000000,B00000010,B00000000,B00000000,B00100000,B00000000,B11111000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..............................#...................#.............#####...........................................................
  B00000000,B00000000,B00000000,B00000110,B00000000,B00000000,B01100000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .............................##..................##.............................................................................
  B00000000,B00000000,B00000000,B00000110,B00000000,B00000000,B01100000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .............................##..................##.............................................................................
  B00000000,B00000000,B00000000,B00000100,B00000000,B00000000,B11000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .............................#..................##..............................................................................
  B00000000,B00000000,B00000000,B00001100,B00000000,B00000000,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................##..................#...............................................................................
  B00000000,B00000000,B00000000,B00001100,B00000000,B00000001,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................##.................##...............................................................................
  B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B11111111,B11000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................#...................##########......................................................................
  B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B01111111,B11110000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................#....................###########....................................................................
  B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B00000000,B00111000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................#.............................###...................................................................
  B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B00000000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................#..............................##...................................................................
  B00000000,B00000000,B00000000,B00001000,B00000000,B00000000,B00000000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............................#..............................##...................................................................
  B00000000,B00000000,B01100000,B00001000,B00000000,B00000000,B00000000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .................##.........#..............................##...................................................................
  B00000000,B00000000,B11110000,B00001000,B00000011,B11111111,B11100000,B00011000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ................####........#.........#############........##...................................................................
  B00000000,B00000001,B10111000,B00001000,B00011111,B11111111,B11110000,B00110000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ...............##.###.......#......#################......##....................................................................
  B00000000,B00000011,B00011111,B11111000,B00111000,B00000000,B00011000,B00110000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ..............##...##########.....###..............##.....##....................................................................
  B00000000,B00000110,B00000011,B11111000,B01100000,B00000000,B00011000,B00100000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .............##.......#######....##................##.....#.....................................................................
  B00000000,B00001100,B00000000,B00000000,B01100000,B00000000,B00001000,B01100000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............##...................##.................#....##.....................................................................
  B00000000,B00001100,B00111000,B00000000,B01100000,B00000000,B00001000,B01111100,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............##....###............##.................#....#####..................................................................
  B00000000,B00001100,B11111110,B00000000,B01100000,B00000000,B00001000,B00111111,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ............##..#######..........##.................#.....######................................................................
  B00000000,B00000111,B11000011,B11111111,B11000000,B00000000,B00001000,B00000011,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .............#####....############..................#.........###...............................................................
  B00000000,B00000000,B00000001,B11111111,B10000000,B00000000,B00001100,B00000001,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // .......................##########...................##.........##...............................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00001111,B11111111,B10000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000, // ....................................................#############...............................................................
  B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000111,B11111111,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000  // .....................................................###########................................................................
};



  
void setup()
{
  Serial.begin(9600);
  display.begin (SSD1306_SWITCHCAPVCC, 0x3C);
  display.clearDisplay();
}

void loop()
{
  testdrawrect(); 
  display.clearDisplay();
  
  display.setTextSize(2);
  display.setTextColor (WHITE);
  display.setCursor(0,0);
  display.println("Zhou9Duan"); //显示文字
  display.display();
  delay(4000);
  display.clearDisplay();
  
  testdrawbitmap(); 
  display.clearDisplay();
}

void testdrawrect(void) {
  display.clearDisplay();

  for(int16_t i=0; i<display.height()/2; i+=2) {
    display.drawRect(i, i, display.width()-2*i, display.height()-2*i, SSD1306_WHITE);
    display.display(); // Update screen with each newly-drawn rectangle
    delay(1);
  }

  delay(2000);
}

void testdrawbitmap(void) {
  display.clearDisplay();
  /*
  display.drawBitmap(
    (display.width()  - PH_WIDTH ) / 2,
    (display.height() - PH_HEIGHT) / 2,
    PH, SCREEN_WIDTH, SCREEN_HEIGHT, 1);
   */
  display.drawBitmap(0, 0, PH, 256, 64, WHITE);
  display.display();
  delay(10000);
}
